@* Components/Layout/NavMenu.razor *@
@using Microsoft.AspNetCore.Components.Authorization


{
    <MudNavMenu Dense="true">
        <MudNavLink Href="/" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">
            Home
        </MudNavLink>
        <MudNavLink Href="/about" Icon="@Icons.Material.Filled.Info">
            About
        </MudNavLink>
        <MudNavLink Href="/student-lookup" Icon="@Icons.Material.Filled.Search">
            Student Lookup
        </MudNavLink>

        <AuthorizeView>
            <Authorized Context="authState">
                <MudNavGroup Icon="@Icons.Material.Filled.Dashboard" Text="Dashboards" Expanded="true">
                    <MudNavLink Href="/dashboard" Icon="@Icons.Material.Filled.DashboardCustomize">
                        My Dashboard
                    </MudNavLink>
                    @if (authState.User.IsInRole("Admin"))
                    {
                        <MudNavLink Href="/admin-dashboard" Icon="@Icons.Material.Filled.AdminPanelSettings">
                            Admin Dashboard
                        </MudNavLink>
                    }
                    @if (authState.User.IsInRole("SchoolNurse"))
                    {
                        <MudNavLink Href="/nurse-dashboard" Icon="@Icons.Material.Filled.MedicalServices">
                            Nurse Dashboard
                        </MudNavLink>
                    }
                    @if (authState.User.IsInRole("Viewer"))
                    {
                        <MudNavLink Href="/viewer-dashboard" Icon="@Icons.Material.Filled.Visibility">
                            Viewer Dashboard
                        </MudNavLink>
                    }
                </MudNavGroup>

                <MudNavLink Href="/Account/Logout" Icon="@Icons.Material.Filled.Logout">
                    Sign out
                </MudNavLink>
            </Authorized>
            <NotAuthorized>
                <MudNavLink Href="/Account/Login" Icon="@Icons.Material.Filled.Login">
                    Sign in
                </MudNavLink>
            </NotAuthorized>
        </AuthorizeView>

        <MudNavLink Href="/ping" Icon="@Icons.Material.Filled.HealthAndSafety">
            System Health
        </MudNavLink>
    </MudNavMenu>
}
