@* Components/Layout/MainLayout.razor *@
@inherits LayoutComponentBase
@using MudBlazor
@using Microsoft.AspNetCore.Components.Authorization
@using VaxSync.Web.Components.Layout

<MudLayout Class="app-layout">
    <MudAppBar Elevation="0" Color="Color.Primary" Class="vx-appbar">
        <MudIconButton Icon="@Icons.Material.Filled.Menu"
                       Color="Color.Inherit"
                       Edge="Edge.Start"
                       OnClick="@ToggleDrawer"
                       Class="me-2" />
        <MudText Typo="Typo.h6" Class="fw-semibold">VaxSync</MudText>
        <MudSpacer />
    </MudAppBar>

    <MudDrawer @bind-Open="@drawerOpen"
               Variant="DrawerVariant.Responsive"
               ClipMode="DrawerClipMode.Never"
               Elevation="1"
               Color="Color.Primary"
               Class="vx-drawer">
        <MudDrawerHeader Class="drawer-header">
            <MudText Typo="Typo.h6" Class="drawer-title">Navigation</MudText>
        </MudDrawerHeader>
        <MudDrawerContent>
            <NavMenu />
        </MudDrawerContent>
    </MudDrawer>

    <MudMainContent Class="app-main">
        <MudContainer MaxWidth="MaxWidth.False">
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>

@code {
    private bool drawerOpen = true;

    private void ToggleDrawer()
    {
        drawerOpen = !drawerOpen;
    }
}
