@* Components/Layout/MainLayout.razor *@
@inherits LayoutComponentBase
@using MudBlazor
@using Microsoft.AspNetCore.Components.Authorization
@using VaxSync.Web.Components.Layout

<!-- Full MudBlazor shell -->
<MudThemeProvider Theme="@AppTheme.Theme">
    <MudPopoverProvider />
    <MudDialogProvider />
    <MudSnackbarProvider />
        <MudLayout>

            <!-- Top bar -->
            <MudAppBar Elevation="4" Class="vx-appbar">
                <MudIconButton Icon="@Icons.Material.Filled.Menu"
                               Color="Color.Inherit"
                               Edge="Edge.Start"
                               Disabled="true" />
                <MudText Typo="Typo.h5" Class="ml-2 text-white">VaxSync</MudText>
                <MudSpacer />
                <AuthorizeView>
                    <Authorized>
                        <MudText Class="mr-4 text-white">
                            Hello, @context.User.Identity?.Name
                        </MudText>
                    </Authorized>
                </AuthorizeView>
            </MudAppBar>

            <!-- Sidebar -->
            <MudDrawer Open="true"
                       Elevation="1"
                       ClipMode="DrawerClipMode.Always"
                       Variant="DrawerVariant.Responsive">
                <NavMenu />
            </MudDrawer>

            <!-- Main content -->
            <MudMainContent Class="p-6">
                <MudContainer MaxWidth="MaxWidth.False">
                    @Body
                </MudContainer>
            </MudMainContent>

        </MudLayout>
</MudThemeProvider>
